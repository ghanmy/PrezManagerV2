"use strict";function init(){$pages.each(function(){var t=$(this);t.data("originalClassList",t.attr("class"))}),$pages.eq(current).addClass("pt-page-current")}function nextPage(t){if(isAnimating)return!1;isAnimating=!0;var e=$pages.eq(current);pagesCount-1>current?++current:current=0;var a=$pages.eq(current).addClass("pt-page-current");selectAnimation(t),e.addClass(outClass).on(animEndEventName,function(){e.off(animEndEventName),endCurrPage=!0,endNextPage&&onEndAnimation(e,a)}),a.addClass(inClass).on(animEndEventName,function(){a.off(animEndEventName),endNextPage=!0,endCurrPage&&onEndAnimation(e,a)}),support||onEndAnimation(e,a)}function prevPage(t){return 0==current?void goToPage(t,$pages.length-1):void goToPage(t,current-1)}function goToPage(t,e){if(0!=$pages.eq(current).length){if(isAnimating)return!1;isAnimating=!0;var a=$pages.eq(current);current=e;var o=$pages.eq(current).addClass("pt-page-current");selectAnimation(t),a.addClass(outClass).on(animEndEventName,function(){a.off(animEndEventName),endCurrPage=!0,endNextPage&&onEndAnimation(a,o)}),o.addClass(inClass).on(animEndEventName,function(){o.off(animEndEventName),endNextPage=!0,endCurrPage&&onEndAnimation(a,o)}),support||onEndAnimation(a,o)}}function onEndAnimation(t,e){endCurrPage=!1,endNextPage=!1,resetPage(t,e),isAnimating=!1}function resetPage(t,e){t.attr("class",t.data("originalClassList")+" pt-page-exit"),e.attr("class",e.data("originalClassList")+" pt-page-current"),setTimeout(function(){t.removeClass("pt-page-exit")},100)}function selectAnimation(t){switch(t){case 1:outClass="pt-page-moveToLeft",inClass="pt-page-moveFromRight";break;case 2:outClass="pt-page-moveToRight",inClass="pt-page-moveFromLeft";break;case 3:outClass="pt-page-moveToTop",inClass="pt-page-moveFromBottom";break;case 4:outClass="pt-page-moveToBottom",inClass="pt-page-moveFromTop";break;case 5:outClass="pt-page-fade",inClass="pt-page-moveFromRight pt-page-ontop";break;case 6:outClass="pt-page-fade",inClass="pt-page-moveFromLeft pt-page-ontop";break;case 7:outClass="pt-page-fade",inClass="pt-page-moveFromBottom pt-page-ontop";break;case 8:outClass="pt-page-fade",inClass="pt-page-moveFromTop pt-page-ontop";break;case 9:outClass="pt-page-moveToLeftFade",inClass="pt-page-moveFromRightFade";break;case 10:outClass="pt-page-moveToRightFade",inClass="pt-page-moveFromLeftFade";break;case 11:outClass="pt-page-moveToTopFade",inClass="pt-page-moveFromBottomFade";break;case 12:outClass="pt-page-moveToBottomFade",inClass="pt-page-moveFromTopFade";break;case 13:outClass="pt-page-moveToLeftEasing pt-page-ontop",inClass="pt-page-moveFromRight";break;case 14:outClass="pt-page-moveToRightEasing pt-page-ontop",inClass="pt-page-moveFromLeft";break;case 15:outClass="pt-page-moveToTopEasing pt-page-ontop",inClass="pt-page-moveFromBottom";break;case 16:outClass="pt-page-moveToBottomEasing pt-page-ontop",inClass="pt-page-moveFromTop";break;case 17:outClass="pt-page-scaleDown",inClass="pt-page-moveFromRight pt-page-ontop";break;case 18:outClass="pt-page-scaleDown",inClass="pt-page-moveFromLeft pt-page-ontop";break;case 19:outClass="pt-page-scaleDown",inClass="pt-page-moveFromBottom pt-page-ontop";break;case 20:outClass="pt-page-scaleDown",inClass="pt-page-moveFromTop pt-page-ontop";break;case 21:outClass="pt-page-scaleDown",inClass="pt-page-scaleUpDown pt-page-delay300";break;case 22:outClass="pt-page-scaleDownUp",inClass="pt-page-scaleUp pt-page-delay300";break;case 23:outClass="pt-page-moveToLeft pt-page-ontop",inClass="pt-page-scaleUp";break;case 24:outClass="pt-page-moveToRight pt-page-ontop",inClass="pt-page-scaleUp";break;case 25:outClass="pt-page-moveToTop pt-page-ontop",inClass="pt-page-scaleUp";break;case 26:outClass="pt-page-moveToBottom pt-page-ontop",inClass="pt-page-scaleUp";break;case 27:outClass="pt-page-scaleDownCenter",inClass="pt-page-scaleUpCenter pt-page-delay400";break;case 28:outClass="pt-page-rotateRightSideFirst",inClass="pt-page-moveFromRight pt-page-delay200 pt-page-ontop";break;case 29:outClass="pt-page-rotateLeftSideFirst",inClass="pt-page-moveFromLeft pt-page-delay200 pt-page-ontop";break;case 30:outClass="pt-page-rotateTopSideFirst",inClass="pt-page-moveFromTop pt-page-delay200 pt-page-ontop";break;case 31:outClass="pt-page-rotateBottomSideFirst",inClass="pt-page-moveFromBottom pt-page-delay200 pt-page-ontop";break;case 32:outClass="pt-page-flipOutRight",inClass="pt-page-flipInLeft pt-page-delay500";break;case 33:outClass="pt-page-flipOutLeft",inClass="pt-page-flipInRight pt-page-delay500";break;case 34:outClass="pt-page-flipOutTop",inClass="pt-page-flipInBottom pt-page-delay500";break;case 35:outClass="pt-page-flipOutBottom",inClass="pt-page-flipInTop pt-page-delay500";break;case 36:outClass="pt-page-rotateFall pt-page-ontop",inClass="pt-page-scaleUp";break;case 37:outClass="pt-page-rotateOutNewspaper",inClass="pt-page-rotateInNewspaper pt-page-delay500";break;case 38:outClass="pt-page-rotatePushLeft",inClass="pt-page-moveFromRight";break;case 39:outClass="pt-page-rotatePushRight",inClass="pt-page-moveFromLeft";break;case 40:outClass="pt-page-rotatePushTop",inClass="pt-page-moveFromBottom";break;case 41:outClass="pt-page-rotatePushBottom",inClass="pt-page-moveFromTop";break;case 42:outClass="pt-page-rotatePushLeft",inClass="pt-page-rotatePullRight pt-page-delay180";break;case 43:outClass="pt-page-rotatePushRight",inClass="pt-page-rotatePullLeft pt-page-delay180";break;case 44:outClass="pt-page-rotatePushTop",inClass="pt-page-rotatePullBottom pt-page-delay180";break;case 45:outClass="pt-page-rotatePushBottom",inClass="pt-page-rotatePullTop pt-page-delay180";break;case 46:outClass="pt-page-rotateFoldLeft",inClass="pt-page-moveFromRightFade";break;case 47:outClass="pt-page-rotateFoldRight",inClass="pt-page-moveFromLeftFade";break;case 48:outClass="pt-page-rotateFoldTop",inClass="pt-page-moveFromBottomFade";break;case 49:outClass="pt-page-rotateFoldBottom",inClass="pt-page-moveFromTopFade";break;case 50:outClass="pt-page-moveToRightFade",inClass="pt-page-rotateUnfoldLeft";break;case 51:outClass="pt-page-moveToLeftFade",inClass="pt-page-rotateUnfoldRight";break;case 52:outClass="pt-page-moveToBottomFade",inClass="pt-page-rotateUnfoldTop";break;case 53:outClass="pt-page-moveToTopFade",inClass="pt-page-rotateUnfoldBottom";break;case 54:outClass="pt-page-rotateRoomLeftOut pt-page-ontop",inClass="pt-page-rotateRoomLeftIn";break;case 55:outClass="pt-page-rotateRoomRightOut pt-page-ontop",inClass="pt-page-rotateRoomRightIn";break;case 56:outClass="pt-page-rotateRoomTopOut pt-page-ontop",inClass="pt-page-rotateRoomTopIn";break;case 57:outClass="pt-page-rotateRoomBottomOut pt-page-ontop",inClass="pt-page-rotateRoomBottomIn";break;case 58:outClass="pt-page-rotateCubeLeftOut pt-page-ontop",inClass="pt-page-rotateCubeLeftIn";break;case 59:outClass="pt-page-rotateCubeRightOut pt-page-ontop",inClass="pt-page-rotateCubeRightIn";break;case 60:outClass="pt-page-rotateCubeTopOut pt-page-ontop",inClass="pt-page-rotateCubeTopIn";break;case 61:outClass="pt-page-rotateCubeBottomOut pt-page-ontop",inClass="pt-page-rotateCubeBottomIn";break;case 62:outClass="pt-page-rotateCarouselLeftOut pt-page-ontop",inClass="pt-page-rotateCarouselLeftIn";break;case 63:outClass="pt-page-rotateCarouselRightOut pt-page-ontop",inClass="pt-page-rotateCarouselRightIn";break;case 64:outClass="pt-page-rotateCarouselTopOut pt-page-ontop",inClass="pt-page-rotateCarouselTopIn";break;case 65:outClass="pt-page-rotateCarouselBottomOut pt-page-ontop",inClass="pt-page-rotateCarouselBottomIn";break;case 66:outClass="pt-page-rotateSidesOut",inClass="pt-page-rotateSidesIn pt-page-delay200";break;case 67:outClass="pt-page-rotateSlideOut",inClass="pt-page-rotateSlideIn"}}function bindCube(){function t(t){for(var a=0,o=t.length;o>a;a++)if("undefined"!=typeof e.style[t[a]])return t[a]}var e=document.createElement("div"),a="transform WebkitTransform MozTransform OTransform msTransform".split(" "),o=t(a),n="transitionDuration WebkitTransitionDuration MozTransitionDuration OTransitionDuration msTransitionDuration".split(" "),i="transitionDelay WebkitTransitionDelay MozTransitionDelay OTransitionDelay msTransitionDelay".split(" "),s=t(n),r=t(i),p={start:{}},l=void 0!==document.ontouchmove,c={x:-10,y:20,el:$(".cube")[0],move:function(t){t&&("number"==typeof t.x&&(this.x=t.x),"number"==typeof t.y&&(this.y=t.y)),this.el.style[o]="rotateX("+this.x+"deg) rotateY("+this.y+"deg)"},reset:function(){this.move({x:0,y:0})}};c.duration=function(){var t=l?50:500;return t=400,c.el.style[s]=t+"ms",c.el.style[r]="0s",t}(),$(c.el).bind("mousedown touchstart",function(t){return event.stopPropagation(),delete p.last,$(t.target).is("a, iframe")?!0:(t.originalEvent.touches?t=t.originalEvent.touches[0]:null,p.start.x=t.pageX,p.start.y=t.pageY,$(c.el).bind("mousemove touchmove",function(t){l&&t.originalEvent&&t.originalEvent.touches.length>1||(t.preventDefault(),t.originalEvent.touches?t=t.originalEvent.touches[0]:null,$(".viewport").trigger("move-viewport",{x:t.pageX,y:t.pageY}))}),void $(c.el).bind("mouseup touchend",function(){$(c.el).unbind("mousemove touchmove")}))}),$(".viewport").bind("move-viewport",function(t,e){function a(t,e){return t>=e?!0:!1}var o=l?4:1;p.last?(a(p.start.x,p.last.x)!=a(p.last.x,e.x)&&(p.start.x=p.last.x),a(p.start.y,p.last.y)!=a(p.last.y,e.y)&&(p.start.y=p.last.y)):p.last=p.start,c.move({x:c.x+parseInt((p.start.y-e.y)/o),y:c.y-parseInt((p.start.x-e.x)/o)}),p.last.x=e.x,p.last.y=e.y})}function animationHandler(){if(2==current)for(var t=0;5>t;t++)count.innerHTML=0,setTimeout(function(){count.innerHTML=parseInt(count.innerHTML)+1},100*t+3e3);5==current&&setTimeout(function(){bindCube()},3500),(4==current||6==current)&&setTimeout(function(){$(".cube").unbind("mousemove touchmove move-viewport"),$(".cube").attr("style","")},1e3),(5==current||7==current)&&$(".checkbox.active").removeClass("active")}function sendCommentraire(){$.post("http://applications-mobile.ch/adwya/ws/commentaire.php",{nom:$("#nom").val(),prenom:$("#prenom").val(),email:$("#email").val(),commentaire:$("#commentaire").val()})}function sendPdf(){$.post("http://applications-mobile.ch/adwya/ws/sendpdf.php",{email:$("#email2").val()})}var _gaq=_gaq||void 0,$=$||{};!function(t,e){window.$=e||{},e.BODY_SCROLL_TOP=!1,e.getScrollTop=function(){var e=window,a=t;return e.pageYOffset||"CSS1Compat"===a.compatMode&&a.documentElement.scrollTop||a.body.scrollTop||0},e.hideUrlBar=function(){var t=window;location.hash||e.BODY_SCROLL_TOP===!1||t.scrollTo(0,1===e.BODY_SCROLL_TOP?0:1)},e.hideUrlBarOnLoad=function(){var t,a=window,o=a.document;!location.hash&&a.addEventListener&&(window.scrollTo(0,1),e.BODY_SCROLL_TOP=1,t=setInterval(function(){o.body&&(clearInterval(t),e.BODY_SCROLL_TOP=e.getScrollTop(),e.hideUrlBar())},15),a.addEventListener("load",function(){setTimeout(function(){e.getScrollTop()<20&&e.hideUrlBar()},0)}))},e.loadScript=function(e,a,o){if(t.getElementById(e))o();else{var n=t.createElement("script");n.type="text/javascript",n.id=e,n.readyState?n.onreadystatechange=function(){("loaded"===n.readyState||"complete"===n.readyState)&&(n.onreadystatechange=null,o())}:n.onload=function(){o()},n.src=a,t.body.appendChild(n)}},e.getVendorPropertyName=function(e){var a,o,n=["Moz","Webkit","O","ms"],i=t.createElement("div"),s=e.charAt(0).toUpperCase()+e.substr(1);if(e in i.style)return e;for(o=0;o<n.length;++o)if(a=n[o]+s,a in i.style)return a;this.div=null},e.checkTransform3dSupport=function(){var a=t.createElement("div"),o=e.getVendorPropertyName("transform");return a.style[o]="",a.style[o]="rotateY(90deg)",""!==a.style[o]},e.buildVendorNames=function(){return{transition:e.getVendorPropertyName("transition"),transitionDelay:e.getVendorPropertyName("transitionDelay"),transform:e.getVendorPropertyName("transform"),transformOrigin:e.getVendorPropertyName("transformOrigin"),transform3d:e.checkTransform3dSupport()}},window.AddEvent=function(t,e,a,o){o=o||!1,a&&e&&t&&(t.addEventListener?t.addEventListener(e,a,o):t.attachEvent&&t.attachEvent(e,a))},e.parseLocalStorage=function(t){var e=localStorage.getItem(t);return e?JSON.parse(e)||{}:{}},e.s4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},e.guid=function(){return e.s4()+e.s4()+"-"+e.s4()+"-"+e.s4()+"-"+e.s4()+"-"+e.s4()+e.s4()+e.s4()},e.data=function(t,e,a){return a=a||"",t.hasAttribute("data-"+e)?t.getAttribute("data-"+e):a},e.removeClass=function(t,e){t.className=t.className.replace(" "+e+" "," ").replace(" "+e,"").replace(e+" ","")},e.addClass=function(t,e){t&&e&&(t.classList?t.classList.add(e):t.className+=" "+e)},e.attr=function(t,e,a){return t?void 0===a?t.hasAttribute(e)?t.getAttribute(e):null:(t.setAttribute(e,a),this):void 0},e.noop=function(){}}(document,$),function(t,e,a){HTMLElement.prototype.ha=HTMLElement.prototype.hasAttribute;var o=(document.querySelector,function(t,e){return new o.fn.init(t,e)});return o.fn=o.prototype={constructor:o,init:function(a,o){return a?(this.node="length"in a?a:[a],this.settings=e.extend({},this.settings,o),this.support=e.buildVendorNames(),this.touchType=t.navigator.msPointerEnabled?"pointer":"ontouchstart"in t?"touch":"mouse",this.hasMouse="ontouchstart"in t&&"onmousedown"in t,this.touchStart="pointer"===this.touchType?"MSPointerDown":"touch"===this.touchType?"touchstart":"mousedown",this.touchEnd="pointer"===this.touchType?"MSPointerUp":"touch"===this.touchType?"touchend":"mouseup",this.touchOut="pointer"===this.touchType?"MSPointerOut":"touch"===this.touchType?"touchcancel":"mouseout",this.touchMove="pointer"===this.touchType?"MSPointerMove":"touch"===this.touchType?"touchmove":"mousemove",this.touchCancel="pointer"===this.touchType?"MSPointerCancel":"touch"===this.touchType?"touchcancel":"mouseout",this.hasmsGesture?this.setupMSGesture():(this.setUpTouchGestures(),this.setupTouch()),this):a},version:"0.0.5",hasMouse:"",touchType:"",touchStart:"",touchEnd:"",touchOut:"",touchMove:"",touchCancel:"",hasmsGesture:t.MSGesture,setUpTouchGestures:function(){var t=this;try{[].forEach.call(this.node,function(e){e.addEventListener("gesturestart",function(t){t.preventDefault()}),e.addEventListener("gesturechange",function(e){t.gestureChange.call(t,e)}),e.gStartScale=1,e.gStartRotation=0})}catch(e){return console.error("setUpTouchGestures is broken \r\n"+tl.textContent),!1}},setupMSGesture:function(){var t=this,e=this.settings;try{[].forEach.call(this.node,function(a){var o=new MSGesture;o&&(o.target=a,a.addEventListener("MSPointerDown",function(n){o.addPointer(n.pointerId),t.setupSwipe(n,a,e)}),a.addEventListener("MSGestureChange",function(e){t.msGestureChange.call(t,e)}),a.addEventListener("MSPointerDown",function(o){t.doDoubleTap(o,a,e)}),a.addEventListener("MSGestureEnd",function(){t.endGesture()}))})}catch(a){return!1}},endGesture:function(){this.swipping=!1,this.swipeX=null,this.swipeY=null},swipeRightCallback:e.noop,swipeLeftCallback:e.noop,swipeUpCallback:e.noop,swipeDownCallback:e.noop,moveCallback:e.noop,moveHorizontalCallback:e.noop,moveVerticalCallback:e.noop,rotateCallback:e.noop,scaleCallback:e.noop,tapCallback:e.noop,doubleTapCallback:e.noop,processGestureChange:function(t,e){var a=this,o=this.settings,n=t.target;n.ha(o.rotateIndicator)&&Math.abs(t.rotation)>o.rotateThreshold&&(o.autoRotate&&(n.style.transform=e.rotate(180*t.rotation/Math.PI)),this.rotateCallback(t,e)),n.ha(o.scaleIndicator)&&Math.abs(t.scale)>o.scaleThreshold&&(o.autoScale&&(n.style.transform=e.scale(t.scale)),this.scaleCallback(t,e)),n.ha(o.moveIndicator)&&(Math.abs(t.translationX)>o.moveThreshold||Math.abs(t.translationY)>o.moveThreshold)&&(o.autoMove&&(n.style.transform=e.translate(t.translationX,t.translationY,0)),this.moveCallback(t,e)),n.ha(o.horizontalIndicator)&&Math.abs(t.translationX)>o.moveThreshold&&(o.autoHorizontalMove&&(t.target.style.transform=e.translate(t.translationX,0,0)),this.moveHorizontalCallback(t,e)),n.ha(o.verticalIndicator)&&Math.abs(t.translationY)>o.moveThreshold&&(o.autoVerticalMove&&(t.target.style.transform=e.translate(0,t.translationY,0)),this.moveVerticalCallback(t,e)),a.processSwipe(n,t,o,e)},processSwipe:function(t,e,a,o){var n=this;if(o=o||{},t.ha(a.swipeRight)&&!n.swipping&&(null===n.swipeX?n.swipeX=e.clientX:t.ha(a.swipeRightInit)&&e.clientX>n.swipeX&&e.clientX-n.swipeX>a.swipeRightThreshold&&(n.swipping||(n.swipping=!0,n.swipeX=null,n.swipeY=null,n.swipeRightCallback(e,o)))),t.ha(a.swipeLeft)&&!n.swipping&&(null===n.swipeX?n.swipeX=e.clientX:t.ha(a.swipeLeftInit)&&e.clientX<n.swipeX&&e.clientX-n.swipeX<a.swipeLeftThreshold&&(n.swipping||(n.swipping=!0,n.swipeX=null,n.swipeY=null,n.swipeLeftCallback(e,o)))),t.ha(a.swipeUp)&&!n.swipping)if(null===n.swipeY)n.swipeY=e.clientY;else{var i=e.clientY>=0?e.clientY:0;t.ha(a.swipeUpInit)&&e.clientY<n.swipeY&&i-n.swipeY<a.swipeUpThreshold&&(n.swipping||(n.swipping=!0,n.swipeX=null,n.swipeY=null,n.swipeUpCallback(e,o)))}t.ha(a.swipeDown)&&!n.swipping&&(null===n.swipeY?n.swipeY=e.clientY:t.ha(a.swipeDownInit)&&e.clientY>n.swipeY&&e.clientY-n.swipeY>a.swipeDownThreshold&&(n.swipping||(n.swipping=!0,n.swipeY=null,n.swipeX=null,n.swipeDownCallback(e,o))))},swipping:!1,swipeX:null,swipeY:null,gestureChange:function(t){var e=t.target,a=this.settings;t.preventDefault(),e.ha(a.rotateIndicator)&&Math.abs(t.rotation)>a.rotateThreshold&&(e.style.webkitTransform="rotate("+(e.gStartRotation+t.rotation)+"deg)",this.rotateCallback(t,m)),e.ha(a.scaleIndicator)&&Math.abs(t.scale)>a.scaleThreshold&&(e.style.webkitTransform="scale("+e.gStartScale*t.scale+") ",this.scaleCallback(t,m))},msGestureChange:function(e){t.MSCSSMatrix&&this.processGestureChange(e,new MSCSSMatrix(e.target.style.transform))},calculateTranslation:function(t,e){return{translationX:e.x-t.x,translationY:e.y-t.y}},setupIndicator:function(t,e,o,n,i){var s=this,r=s.settings;t!==a&&(s[e]=t),o&&(s.settings[n]=o),[].forEach.call(s.node,function(t){t.setAttribute(r[i],"true")})},PreventDefaultManipulationAndMouseEvent:function(t){return t.preventDefault?void t.preventDefault():t.preventManipulation?void t.preventManipulation():t.preventMouseEvent?void t.preventMouseEvent():void 0},getTouchPoints:function(t){var e,a=this,o="undefined"!=typeof t.changedTouches?t.changedTouches:[t],n=o[o.length-1];return e="pointer"===a.touchType?{x:n.x,y:n.y}:"touch"===a.touchType?{x:n.pageX,y:n.pageY}:{x:t.pageX,y:t.pageY}},node:a,div:a,support:{},doDoubleTap:function(t,e,a){var o=this;e.ha(a.doubleTapIndicator)&&e.ha(a.doubleTapStart)&&(e.removeAttribute(a.doubleTapStart),clearTimeout(e.getAttribute(a.doubleTapStart)),o.doubleTapCallback(t)),e.ha(a.doubleTapIndicator)&&!e.ha(a.doubleTapStart)&&e.setAttribute(a.doubleTapStart,setTimeout(function(){e.removeAttribute(a.doubleTapStart),clearTimeout(e.getAttribute(a.doubleTapStart))},a.doubleTapThreshold))},setupSwipe:function(t,e,a){var o=this;e.ha(a.swipeRight)&&(e.removeAttribute(a.swipeRightEnd),e.ha(a.swipeRightInit)||e.setAttribute(a.swipeRightInit,JSON.stringify(o.getTouchPoints(t)))),e.ha(a.swipeLeft)&&(e.removeAttribute(a.swipeLeftEnd),e.ha(a.swipeLeftInit)||e.setAttribute(a.swipeLeftInit,JSON.stringify(o.getTouchPoints(t)))),e.ha(a.swipeUp)&&(e.removeAttribute(a.swipeUpEnd),e.ha(a.swipeUpInit)||e.setAttribute(a.swipeUpInit,JSON.stringify(o.getTouchPoints(t)))),e.ha(a.swipeDown)&&(e.removeAttribute(a.swipeDownEnd),e.ha(a.swipeDownInit)||e.setAttribute(a.swipeDownInit,JSON.stringify(o.getTouchPoints(t))))},setupTouch:function(){var t=this,e=this.settings;[].forEach.call(this.node,function(a){var o=function(o){o.preventDefault(),t.touchMoveHandler.call(t,o,a,e)},n=function(o){o.preventDefault(),t.endTouchHandler.call(t,o,a,e)},i=function(o){o.preventDefault(),t.startTouchHandler.call(t,o,a,e)};a.addEventListener(t.touchStart,i),a.addEventListener(t.touchMove,o),a.addEventListener(t.touchEnd,n),a.addEventListener(t.touchCancel,n),a.addEventListener("mouseout",n),a.addEventListener("mouseup",n),a.addEventListener(t.touchEnd,function(){}),a.addEventListener("mouseout",function(){}),a.addEventListener("mouseup",function(){}),a.addEventListener(t.touchCancel,function(){}),a.addEventListener(t.touchOut,function(){}),t.hasMouse&&(a.addEventListener("mousedown",i),a.addEventListener("mousemove",o),a.addEventListener("mouseup",n))})},startTouchHandler:function(t,e,a){var o=this;a=this.settings,t.preventDefault(),e.ha(a.moveIndicator)&&(e.removeAttribute(a.moveTouchEnded),e.ha(a.moveTouchInitial)||e.setAttribute(a.moveTouchInitial,JSON.stringify(o.getTouchPoints(t)))),e.ha(a.horizontalIndicator)&&(e.removeAttribute(a.horizontalTouchEnd),e.ha(a.horizontalTouchInit)||e.setAttribute(a.horizontalTouchInit,JSON.stringify(o.getTouchPoints(t)))),e.ha(a.verticalIndicator)&&(e.removeAttribute(a.verticalTouchEnd),e.ha(a.verticalTouchInit)||e.setAttribute(a.verticalTouchInit,JSON.stringify(o.getTouchPoints(t)))),o.setupSwipe(t,e,a),e.ha(a.tapIndicator)&&!e.ha(a.tapStart)&&e.setAttribute(a.tapStart,setTimeout(function(){clearTimeout(e.getAttribute(a.tapStart)),e.removeAttribute(a.doubleTapStart)},700)),o.doDoubleTap(t,e,a)},endTouchHandler:function(t,e,a){var o=this;a=this.settings,t.preventDefault(),e.ha(a.moveTouchInitial)&&e.setAttribute(a.moveTouchEnded,"true"),e.ha(a.horizontalIndicator)&&e.setAttribute(a.horizontalTouchEnd,"true"),e.ha(a.verticalIndicator)&&e.setAttribute(a.verticalTouchEnd,"true"),e.ha(a.swipeRight)&&(o.swipping=!1,e.setAttribute(a.swipeRightEnd,"true"),e.removeAttribute(a.swipeRightInit)),e.ha(a.swipeLeft)&&(o.swipping=!1,e.setAttribute(a.swipeLeftEnd,"true"),e.removeAttribute(a.swipeLeftInit)),e.ha(a.swipeUp)&&(o.swipping=!1,e.setAttribute(a.swipeUpEnd,"true"),e.removeAttribute(a.swipeUpInit)),e.ha(a.swipeDown)&&(o.swipping=!1,e.setAttribute(a.swipeDownEnd,"true"),e.removeAttribute(a.swipeDownInit)),e.ha(a.tapIndicator)&&e.ha(a.tapStart)&&(o.tapCallback(t),clearTimeout(e.getAttribute(a.tapStart)),e.removeAttribute(a.tapStart))},touchMoveHandler:function(t,e,a){var o=this;if(a=this.settings,t.preventDefault(),e.ha(a.moveIndicator)&&!e.ha(a.moveTouchEnded)&&e.ha(a.moveTouchInitial)&&(n=JSON.parse(e.getAttribute(a.moveTouchInitial)),i=o.getTouchPoints(t),s=o.calculateTranslation(n,i),e.style[o.support.transform]="translate3D("+s.translationX+"px, "+s.translationY+"px, 0)"),e.ha(a.horizontalIndicator)&&!e.ha(a.horizontalTouchEnd)&&e.ha(a.horizontalTouchInit)){console.log("should -horizontal move");var n=JSON.parse(e.getAttribute(a.horizontalTouchInit)),i=o.getTouchPoints(t),s=o.calculateTranslation(n,i);Math.abs(s.translationX)>o.settings.moveThreshold&&(e.style[o.support.transform]="translate3D("+s.translationX+"px, 0, 0)")}if(e.ha(a.verticalIndicator)&&!e.ha(a.verticalTouchEnd)&&e.ha(a.verticalTouchInit)){var n=JSON.parse(e.getAttribute(a.verticalTouchInit)),i=o.getTouchPoints(t),s=o.calculateTranslation(n,i);Math.abs(s.translationY)>o.settings.moveThreshold&&(e.style[o.support.transform]="translate3D(0, "+s.translationY+"px, 0)")}(e.ha(a.swipeRightInit)||e.ha(a.swipeLefttInit)||e.ha(a.swipeUpInit)||e.ha(a.swipeDownInit))&&(t.touches&&(t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY),o.processSwipe(e,t,a))},swipeRight:function(t,e){return this.setupIndicator(t,"swipeRightCallback",e,"swipeRightThreshold","swipeRight"),this},swipeLeft:function(t,e){return this.setupIndicator(t,"swipeLeftCallback",e,"swipeLeftThreshold","swipeLeft"),this},swipeUp:function(t,e){return this.setupIndicator(t,"swipeUpCallback",e,"swipeUpThreshold","swipeUp"),this},swipeDown:function(t,e){return this.setupIndicator(t,"swipeDownCallback",e,"swipeDownThreshold","swipeDown"),this},move:function(t){return this.setupIndicator(t,"moveCallback",0,"","moveIndicator"),this},horizontalMove:function(t){return this.setupIndicator(t,"moveHorizontalCallback",0,"","horizontalIndicator"),this},verticalMove:function(t){return this.setupIndicator(t,"moveVerticalCallback",0,"","verticalIndicator"),this},rotate:function(t){return this.setupIndicator(t,"rotateCallback",0,"","rotateIndicator"),this},scale:function(t){return this.setupIndicator(t,"scaleCallback",0,"","scaleIndicator"),this},tap:function(t){var a=this;return t||(t=e.noop),a.hasmsGesture?[].forEach.call(this.node,function(e){e.addEventListener("MSGestureTap",t,!1)}):this.setupIndicator(t,"tapCallback",0,"","tapIndicator"),this},dblTap:function(t){{var e=this.settings;document.querySelector(".touch-log")}return t&&(e.doubleTapCallback=t),this.setupIndicator(t,"doubleTapCallback",0,"","doubleTapIndicator"),this},tapHold:function(t,e,a){var o=this;return t&&(o.tapHoldBeginCallback=t),this.hasmsGesture?(o.tapHoldBeginCallback=t,o.tapHoldEndCallback=e,o.tapHoldCancelCallback=a,[].forEach.call(this.node,function(t){o.preventTapHoldContext(t),t.addEventListener("MSGestureHold",function(t){o.tapHoldCallback.call(o,t)},!1)})):[].forEach.call(this.node,function(t){o.preventTapHoldContext(t),t.addEventListener(o.touchStart,function(e){o.setupTapHold(t,e)}),o.hasMouse&&t.addEventListener("mousedown",function(e){o.setupTapHold(t,e)})},!1),this},preventTapHoldContext:function(t){t.addEventListener("contextmenu",function(t){t.preventDefault()},!1)},setupTapHold:function(t,e){var a,o=this;a=setTimeout(function(){o.tapHoldBeginCallback.call(o,e),clearTimeout(a)},500),t.addEventListener(o.touchEnd,function(){clearTimeout(a)},!1),t.addEventListener(o.touchCancel,function(){clearTimeout(a)},!1)},tapHoldBeginCallback:e.noop,tapHoldEndCallback:e.noop,tapHoldCancelCallback:e.noop,tapHoldCallback:function(t){var e=this;t.preventDefault(),t.detail&t.MSGESTURE_FLAG_BEGIN&&e.tapHoldBeginCallback.call(e,t),t.detail&t.MSGESTURE_FLAG_END&&e.tapHoldEndCallback.call(e,t),t.detail&t.MSGESTURE_FLAG_CANCEL&&e.tapHoldCancelCallback.call(e,t)},settings:{allowPageScroll:!0,logging:!1,swipeRightThreshold:25,swipeLeftThreshold:-25,swipeUpThreshold:-25,swipeDownThreshold:25,moveThreshold:0,rotateThreshold:0,scaleThreshold:0,doubleTapThreshold:700,tapIndicator:"data-tap",tapStart:"data-tap-start",tapEnded:"data-tap-end",doubleTapIndicator:"data-dbltap",doubleTapStart:"data-dbltap-start",doubleTapEnded:"data-dbltap-end",rotateIndicator:"data-rotate",rotateEnded:"data-rotate-ended",rotateInitial:"data-rotate-initial",scaleIndicator:"data-scale",scaleEnded:"data-scale-ended",scaleInitial:"data-scale-initial",moveIndicator:"data-move",moveTouchEnded:"data-move-touch-ended",moveTouchInitial:"data-move-touch-initial",swipeRight:"data-swiperight",swipeRightInit:"data-swiperight-init",swipeRightEnd:"data-swiperight-end",swipeLeft:"data-swipeleft",swipeLeftInit:"data-swipeLeft-init",swipeLeftEnd:"data-swipeleft-end",swipeUp:"data-swipeup",swipeUpInit:"data-swipeup-init",swipeUpEnd:"data-swipeup-end",swipeDown:"data-swipedown",swipeDownInit:"data-swipedown-init",swipeDownEnd:"data-swipedown-end",horizontalIndicator:"data-move-horizontal",horizontalTouchInit:"data-horizontal-touch-initial",horizontalTouchEnd:"data-horizontal-touch-ended",verticalIndicator:"data-move-vertical",verticalTouchInit:"data-vertical-touch-initial",verticalTouchEnd:"data-vertical-touch-ended",autoMove:!0,autoRotate:!0,autoScale:!0,autoHorizontalMove:!0,autoVerticalMove:!0}},o.fn.init.prototype=o.fn,t.deeptissue=o}(window,$),outClass="pt-page-rotateSlideOut",inClass="pt-page-rotateSlideIn";var $main=$("#pt-main"),outClass="",inClass="",$pages=$main.children("div.pt-page"),$iterate=$("#iterateEffects"),animcursor=1,pagesCount=$pages.length,current=0,isAnimating=!1,endCurrPage=!1,endNextPage=!1,animEndEventNames={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},animEndEventName=animEndEventNames[Modernizr.prefixed("animation")],support=Modernizr.cssanimations;init(),function(t,e){function a(){t.removeEventListener("load",a,!1),r=!0}function o(t){return p=p||new o.Class(t)}function n(t,e){for(var a in e)t[a]=e[a];return t}function i(){"#ath"==e.location.hash&&history.replaceState("",t.document.title,e.location.href.split("#")[0]),l.test(e.location.href)&&history.replaceState("",t.document.title,e.location.href.replace(l,"$1")),c.test(e.location.search)&&history.replaceState("",t.document.title,e.location.href.replace(c,"$2"))}var s="addEventListener"in t,r=!1;"complete"===e.readyState?r=!0:s&&t.addEventListener("load",a,!1);var p,l=/\/ath(\/)?$/,c=/([\?&]ath=[^&]*$|&ath=[^&]*(&))/;o.intl={de_de:{ios:"Um diese Web-App zum Home-Bildschirm hinzuzufügen, tippen Sie auf %icon und dann <strong>Zum Home-Bildschirm</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},en_us:{ios:"To add this web app to the home screen: tap %icon and then <strong>Add to Home Screen</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},es_es:{ios:"Para añadir esta aplicación web a la pantalla de inicio: pulsa %icon y selecciona <strong>Añadir a pantalla de inicio</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},fr_fr:{ios:"Pour ajouter cette application web sur l'écran d'accueil : Appuyez %icon et sélectionnez <strong>Ajouter sur l'écran d'accueil</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},he_il:{ios:'<span dir="rtl">להוספת האפליקציה למסך הבית: ללחוץ על %icon ואז <strong>הוסף למסך הבית</strong>.</span>',android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},it_it:{ios:"Per aggiungere questa web app alla schermata iniziale: premi %icon e poi <strong>Aggiungi a Home</strong>.",android:'Per aggiungere questa web app alla schermata iniziale, apri il menu opzioni del browser e premi su <strong>Aggiungi alla homescreen</strong>. <small>Puoi accedere al menu premendo il pulsante hardware delle opzioni se la tua device ne ha uno, oppure premendo l\'icona <span class="ath-action-icon">icon</span> in alto a destra.</small>'},nb_no:{ios:"For å installere denne appen på hjem-skjermen: trykk på %icon og deretter <strong>Legg til på Hjem-skjerm</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},pt_br:{ios:"Para adicionar este app à tela de início: clique %icon e então <strong>Tela de início</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},pt_pt:{ios:"Para adicionar esta app ao ecrã principal: clique %icon e depois <strong>Ecrã principal</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},nl_nl:{ios:"Om deze webapp op je telefoon te installeren, klik op %icon en dan <strong>Zet in beginscherm</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},sv_se:{ios:"För att lägga till denna webbapplikation på hemskärmen: tryck på %icon och därefter <strong>Lägg till på hemskärmen</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},zh_cn:{ios:"如要把应用程式加至主屏幕,请点击%icon, 然后<strong>加至主屏幕</strong>",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'},zh_tw:{ios:"如要把應用程式加至主屏幕, 請點擊%icon, 然後<strong>加至主屏幕</strong>.",android:'To add this web app to the home screen open the browser option menu and tap on <strong>Add to homescreen</strong>. <small>The menu can be accessed by pressing the menu hardware button if your device has one, or by tapping the top right menu icon <span class="ath-action-icon">icon</span>.</small>'}};
for(var h in o.intl)o.intl[h.substr(0,2)]=o.intl[h];o.defaults={appID:"org.cubiq.addtohome",fontSize:15,debug:!1,modal:!1,mandatory:!1,autostart:!0,skipFirstVisit:!1,startDelay:1,lifespan:15,displayPace:1440,maxDisplayCount:0,icon:!0,message:"",validLocation:[],onInit:null,onShow:null,onRemove:null,onAdd:null,onPrivate:null,privateModeOverride:!1,detectHomescreen:!1};var u=t.navigator.userAgent,d=t.navigator;n(o,{hasToken:"#ath"==e.location.hash||l.test(e.location.href)||c.test(e.location.search),isRetina:t.devicePixelRatio&&t.devicePixelRatio>1,isIDevice:/iphone|ipod|ipad/i.test(u),isMobileChrome:u.indexOf("Android")>-1&&/Chrome\/[.0-9]*/.test(u),isMobileIE:u.indexOf("Windows Phone")>-1,language:d.language&&d.language.toLowerCase().replace("-","_")||""}),o.language=o.language&&o.language in o.intl?o.language:"en_us",o.isMobileSafari=o.isIDevice&&u.indexOf("Safari")>-1&&u.indexOf("CriOS")<0,o.OS=o.isIDevice?"ios":o.isMobileChrome?"android":o.isMobileIE?"windows":"unsupported",o.OSVersion=u.match(/(OS|Android) (\d+[_\.]\d+)/),o.OSVersion=o.OSVersion&&o.OSVersion[2]?+o.OSVersion[2].replace("_","."):0,o.isStandalone=t.navigator.standalone||o.isMobileChrome&&screen.height-e.documentElement.clientHeight<40,o.isTablet=o.isMobileSafari&&u.indexOf("iPad")>-1||o.isMobileChrome&&u.indexOf("Mobile")<0,o.isCompatible=o.isMobileSafari&&o.OSVersion>=6||o.isMobileChrome;var m={lastDisplayTime:0,returningVisitor:!1,displayCount:0,optedout:!1,added:!1};o.removeSession=function(t){try{localStorage.removeItem(t||o.defaults.appID)}catch(e){}},o.Class=function(a){if(this.options=n({},o.defaults),n(this.options,a),s&&(this.options.mandatory=this.options.mandatory&&("standalone"in t.navigator||this.options.debug),this.options.modal=this.options.modal||this.options.mandatory,this.options.mandatory&&(this.options.startDelay=-.5),this.options.detectHomescreen=this.options.detectHomescreen===!0?"hash":this.options.detectHomescreen,this.options.debug&&(o.isCompatible=!0,o.OS="string"==typeof this.options.debug?this.options.debug:"unsupported"==o.OS?"android":o.OS,o.OSVersion="ios"==o.OS?"8":"4"),this.container=e.documentElement,this.session=localStorage.getItem(this.options.appID),this.session=this.session?JSON.parse(this.session):void 0,!o.hasToken||o.isCompatible&&this.session||(o.hasToken=!1,i()),o.isCompatible)){this.session=this.session||m;try{localStorage.setItem(this.options.appID,JSON.stringify(this.session)),o.hasLocalStorage=!0}catch(r){o.hasLocalStorage=!1,this.options.onPrivate&&this.options.onPrivate.call(this)}for(var p=!this.options.validLocation.length,l=this.options.validLocation.length;l--;)if(this.options.validLocation[l].test(e.location.href)){p=!0;break}if(localStorage.getItem("addToHome")&&this.optOut(),!this.session.optedout&&!this.session.added&&p){if(o.isStandalone)return void(this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&o.hasLocalStorage&&this.options.onAdd.call(this)));if(this.options.detectHomescreen){if(o.hasToken)return i(),void(this.session.added||(this.session.added=!0,this.updateSession(),this.options.onAdd&&o.hasLocalStorage&&this.options.onAdd.call(this)));"hash"==this.options.detectHomescreen?history.replaceState("",t.document.title,e.location.href+"#ath"):"smartURL"==this.options.detectHomescreen?history.replaceState("",t.document.title,e.location.href.replace(/(\/)?$/,"/ath$1")):history.replaceState("",t.document.title,e.location.href+(e.location.search?"&":"?")+"ath=")}(this.session.returningVisitor||(this.session.returningVisitor=!0,this.updateSession(),!this.options.skipFirstVisit))&&(this.options.privateModeOverride||o.hasLocalStorage)&&(this.ready=!0,this.options.onInit&&this.options.onInit.call(this),this.options.autostart&&this.show())}}},o.Class.prototype={events:{load:"_delayedShow",error:"_delayedShow",orientationchange:"resize",resize:"resize",scroll:"resize",click:"remove",touchmove:"_preventDefault",transitionend:"_removeElements",webkitTransitionEnd:"_removeElements",MSTransitionEnd:"_removeElements"},handleEvent:function(t){var e=this.events[t.type];e&&this[e](t)},show:function(a){if(this.options.autostart&&!r)return void setTimeout(this.show.bind(this),50);if(!this.shown){var n=Date.now(),i=this.session.lastDisplayTime;if(a!==!0){if(!this.ready)return;if(n-i<6e4*this.options.displayPace)return;if(this.options.maxDisplayCount&&this.session.displayCount>=this.options.maxDisplayCount)return}this.shown=!0,this.session.lastDisplayTime=n,this.session.displayCount++,this.updateSession(),this.applicationIcon||(this.applicationIcon=e.querySelector("ios"==o.OS?'head link[rel^=apple-touch-icon][sizes="152x152"],head link[rel^=apple-touch-icon][sizes="144x144"],head link[rel^=apple-touch-icon][sizes="120x120"],head link[rel^=apple-touch-icon][sizes="114x114"],head link[rel^=apple-touch-icon]':'head link[rel^="shortcut icon"][sizes="196x196"],head link[rel^=apple-touch-icon]'));var s="";s=this.options.message in o.intl?o.intl[this.options.message][o.OS]:""!==this.options.message?this.options.message:o.intl[o.language][o.OS],s="<p>"+s.replace("%icon",'<span class="ath-action-icon">icon</span>')+"</p>",this.viewport=e.createElement("div"),this.viewport.className="ath-viewport",this.options.modal&&(this.viewport.className+=" ath-modal"),this.options.mandatory&&(this.viewport.className+=" ath-mandatory"),this.viewport.style.position="absolute",this.element=e.createElement("div"),this.element.className="ath-container ath-"+o.OS+" ath-"+o.OS+(o.OSVersion+"").substr(0,1)+" ath-"+(o.isTablet?"tablet":"phone"),this.element.style.cssText="-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0s;-webkit-transition-timing-function:ease-out;transition-property:transform,opacity;transition-duration:0s;transition-timing-function:ease-out;",this.element.style.webkitTransform="translate3d(0,-"+t.innerHeight+"px,0)",this.element.style.transform="translate3d(0,-"+t.innerHeight+"px,0)",this.options.icon&&this.applicationIcon&&(this.element.className+=" ath-icon",this.img=e.createElement("img"),this.img.className="ath-application-icon",this.img.addEventListener("load",this,!1),this.img.addEventListener("error",this,!1),this.img.src=this.applicationIcon.href,this.element.appendChild(this.img)),this.element.innerHTML+=s,this.viewport.style.left="-99999em",this.viewport.appendChild(this.element),this.container.appendChild(this.viewport),this.img||this._delayedShow()}},_delayedShow:function(){setTimeout(this._show.bind(this),1e3*this.options.startDelay+500)},_show:function(){var a=this;this.updateViewport(),t.addEventListener("resize",this,!1),t.addEventListener("scroll",this,!1),t.addEventListener("orientationchange",this,!1),this.options.modal&&e.addEventListener("touchmove",this,!0),this.options.mandatory||setTimeout(function(){a.element.addEventListener("click",a,!0)},1e3),setTimeout(function(){a.element.style.webkitTransitionDuration="1.2s",a.element.style.transitionDuration="1.2s",a.element.style.webkitTransform="translate3d(0,0,0)",a.element.style.transform="translate3d(0,0,0)"},0),this.options.lifespan&&(this.removeTimer=setTimeout(this.remove.bind(this),1e3*this.options.lifespan)),this.options.onShow&&this.options.onShow.call(this)},remove:function(){clearTimeout(this.removeTimer),this.img&&(this.img.removeEventListener("load",this,!1),this.img.removeEventListener("error",this,!1)),t.removeEventListener("resize",this,!1),t.removeEventListener("scroll",this,!1),t.removeEventListener("orientationchange",this,!1),e.removeEventListener("touchmove",this,!0),this.element.removeEventListener("click",this,!0),this.element.addEventListener("transitionend",this,!1),this.element.addEventListener("webkitTransitionEnd",this,!1),this.element.addEventListener("MSTransitionEnd",this,!1),this.element.style.webkitTransitionDuration="0.3s",this.element.style.opacity="0"},_removeElements:function(){this.element.removeEventListener("transitionend",this,!1),this.element.removeEventListener("webkitTransitionEnd",this,!1),this.element.removeEventListener("MSTransitionEnd",this,!1),this.container.removeChild(this.viewport),this.shown=!1,this.options.onRemove&&this.options.onRemove.call(this)},updateViewport:function(){if(this.shown){this.viewport.style.width=t.innerWidth+"px",this.viewport.style.height=t.innerHeight+"px",this.viewport.style.left=t.scrollX+"px",this.viewport.style.top=t.scrollY+"px";var a=e.documentElement.clientWidth;this.orientation=a>e.documentElement.clientHeight?"landscape":"portrait";var n="ios"==o.OS?"portrait"==this.orientation?screen.width:screen.height:screen.width;this.scale=screen.width>a?1:n/t.innerWidth,this.element.style.fontSize=this.options.fontSize/this.scale+"px"}},resize:function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.updateViewport.bind(this),100)},updateSession:function(){o.hasLocalStorage!==!1&&localStorage.setItem(this.options.appID,JSON.stringify(this.session))},clearSession:function(){this.session=m,this.updateSession()},optOut:function(){this.session.optedout=!0,this.updateSession()},optIn:function(){this.session.optedout=!1,this.updateSession()},clearDisplayCount:function(){this.session.displayCount=0,this.updateSession()},_preventDefault:function(t){t.preventDefault(),t.stopPropagation()}},t.addToHomescreen=o}(window,document),addToHomescreen();var count=document.querySelector("#count"),dt=deeptissue(document.querySelectorAll("#pt-main"),{swipeRightThreshold:50,swipeLeftThreshold:-50});dt.swipeRight(function(t){0==current||$(t.target).parent().hasClass("cube")||$(t.target).parent().hasClass("checkbox")||prevPage(14),animationHandler()}),dt.swipeLeft(function(){current!=$pages.length-1&&nextPage(13),animationHandler()}),$(".checkbox").on("mousedown touchstart",function(t){t.preventDefault(),$(this).hasClass("active")?$(this).removeClass("active"):($(this).parent().children("div").removeClass("active"),$(this).addClass("active"))}),$(".menubar .info").on("mousedown touchstart",function(t){t.preventDefault(),$(".mailpopup").toggleClass("active")}),$(".arrow").on("mousedown touchstart",function(t){t.preventDefault(),$(".mailpopup").hasClass("active")?($(".mailpopup").removeClass("active"),setTimeout(function(){$(".menubar").toggleClass("active")},400)):$(".menubar").toggleClass("active")}),$(".page7 .valider").on("mousedown touchstart",function(t){t.preventDefault(),$(".overlayer").addClass("active"),$(".questionpopup").addClass("active")}),$(".overlayer").click(function(){$(".overlayer,.questionpopup").removeClass("active")}),$("#validermail").click(function(){sendCommentraire(),$(".mailpopup").removeClass("active")}),$(".email").on("mousedown touchstart",function(t){t.preventDefault(),$(".overlayer").addClass("active"),$(".questionpopup").addClass("active")}),$("#valider2").click(function(){sendPdf(),$(".overlayer").removeClass("active"),$(".questionpopup").removeClass("active")});